<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Trivia</title>
</head>
<body onload="cuentaRegresiva()">
    <header>
        <h1 style="text-align: center; text-transform: uppercase; text-decoration:underline; color: white; ">Preguntados</h1>
    </header>
    <main>
        <div class="contenedor">
            <div class="contador--preguntas">
                <h2 style="color: white;"></h2>
            </div>
            <div class="preguntas">
                <form >
                    <p>¿Quien es el jugador con mas partidos jugados?</p>
                    <input type="text" id="respuesta1">
                    <p>¿Que Jugador gano mas titulos?</p>
                    <input type="text" id="respuesta2">
                    <p>¿Que entrenador gano mas campeonatos?</p>
                    <input type="text" id="respuesta3">
                    <p>¿Quien es el maximo goleador en la copa libertadores?</p>
                    <input type="text" id="respuesta4">
                    <p>¿Cuantas finales perdio Riquelme?</p>
                    <input type="text" id="respuesta5">
                    <button onclick="finalizado()">Termine!</button>
                    <button type="reset" onclick="volverIntentar()">Reiniciar Contador</button>
                    
                    <audio id="audioFinal">
                        <source src="gameover.mp3" type="audio/mpeg">
                        audio no disponible
                    </audio>
                </form>
            </div>
        </div>

        <script>

            let tiempoTerminado;
            let intervaloDeTiempo;

            // 
            function cuentaRegresiva() {
                tiempoTerminado = setTimeout(tiempoCumplido, 30000);
                intervaloDeTiempo = setInterval(ticTac, 1000);
                document.querySelector("h2").textContent = 30;
            }
            // Cuenta regresiva cuando logea o resetea la web.-
            function ticTac() {
                const tiempo = document.querySelector("h2").textContent;
                document.querySelector("h2").textContent = tiempo - 1 ;
            }

            function tiempoCumplido(){
                clearInterval(intervaloDeTiempo);
                document.querySelector("h2").textContent = 0;
                document.getElementById("audioFinal").play();
                alert("GAME OVER: Se termino el tiempo. Intenta nuevamente.");
            }

            function finalizado(){
                clearTimeout(tiempoTerminado);
                clearInterval(intervaloDeTiempo);

                const fecha = new Date;
                const respuesta1 = document.getElementById("respuesta1").value;
                const respuesta2 = document.getElementById("respuesta2").value;
                const respuesta3 = document.getElementById("respuesta3").value;
                const respuesta4 = document.getElementById("respuesta4").value;
                const respuesta5 = document.getElementById("respuesta5").value;

                let mensaje = fecha.toLocaleDateString("es-Es") + "\n" + 
                            "1 - " + respuesta1 + "\n" +
                            "2 - " + respuesta2 + "\n" +
                            "3 - " + respuesta3 + "\n" +
                            "4 - " + respuesta4 + "\n" +
                            "5 - " + respuesta5 ;
                alert(mensaje)
             }

            function volverIntentar() {
                location.reload();
            }


        </script>
        
        
        
    </main>
</body>
</html>